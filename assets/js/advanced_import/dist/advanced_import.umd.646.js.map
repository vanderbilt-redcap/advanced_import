{"version":3,"file":"advanced_import.umd.646.js","mappings":"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","sources":["webpack://advanced_import/./src/pages/import/Index.vue","webpack://advanced_import/./src/components/import/FilePreview.vue","webpack://advanced_import/src/components/import/FilePreview.vue","webpack://advanced_import/./src/components/import/FilePreview.vue?60db","webpack://advanced_import/./src/components/import/FilePreview.vue?78e1","webpack://advanced_import/./src/components/import/FilePreview.vue?1993","webpack://advanced_import/./src/components/import/FilePreview.vue?0fe9","webpack://advanced_import/src/pages/import/Index.vue","webpack://advanced_import/./src/pages/import/Index.vue?a6bd","webpack://advanced_import/./src/pages/import/Index.vue?5b79","webpack://advanced_import/./src/pages/import/Index.vue?42ba","webpack://advanced_import/./src/pages/import/Index.vue?cce3"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wizard\"},[_c('FilePreview'),_c('b-card',{staticClass:\"mt-2\"},[_c('b-tabs',{staticClass:\"wizard-tabs\",attrs:{\"no-nav-style\":\"\",\"content-class\":\"mt-0\"},model:{value:(_vm.step_index),callback:function ($$v) {_vm.step_index=$$v},expression:\"step_index\"}},_vm._l((_vm.steps),function(item,index){return _c('b-tab',{key:index,attrs:{\"title\":``,\"title-link-class\":\"d-none\"}},[_c('div',{staticClass:\"steps text-center mb-2\"},[_c('b-badge',{attrs:{\"variant\":\"light\"}},[_vm._v(\"Step \"+_vm._s(_vm.step_index+1)+\" of \"+_vm._s(_vm.steps.length))])],1),_c(item.element,{tag:\"component\",scopedSlots:_vm._u([{key:\"left\",fn:function(){return [(_vm.step_index>0)?_c('button',{staticClass:\"btn btn-outline-primary\",attrs:{\"disabled\":_vm.step_index==0},on:{\"click\":_vm.goToPrevStep}},[_vm._v(\"go back\")]):_c('span')]},proxy:true},{key:\"default\",fn:function(){return undefined},proxy:true},{key:\"right\",fn:function({validation, processFunction}){return [_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step_index<(_vm.steps.length-1)),expression:\"step_index<(steps.length-1)\"}],staticClass:\"btn btn-outline-primary\",attrs:{\"disabled\":validation.$invalid},on:{\"click\":function($event){return _vm.goToNextStep(processFunction)}}},[_vm._v(\"next\")])]}}],null,true)})],1)}),1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.items_proxy && _vm.items_proxy.length>0)?_c('b-card',{staticClass:\"mt-2\",attrs:{\"id\":\"table-container\",\"title\":_vm.title}},[_c('b-table',{attrs:{\"id\":\"my-table\",\"items\":_vm.items_proxy,\"small\":\"\",\"bordered\":\"\",\"striped\":\"\",\"hover\":\"\",\"thClass\":\"th-head\"},scopedSlots:_vm._u([{key:\"head()\",fn:function(data){return [_c('section',[_c('span',{staticClass:\"d-block small\",attrs:{\"title\":\"REDCap field\"}},[_c('non-blank-space'),(Boolean(_vm.getRedcapField(data.column)))?_c('b-badge',{attrs:{\"variant\":\"info\"}},[_c('span',[_vm._v(_vm._s(_vm.getRedcapField(data.column)))]),(_vm.isPrimaryKey(data.column))?_c('font-awesome-icon',{staticClass:\"ml-1 text-warning\",attrs:{\"icon\":\"star\",\"title\":\"primary key\",\"fixed-width\":\"\"}}):(_vm.isDynamic(data.column))?_c('font-awesome-icon',{staticClass:\"ml-1 text-danger\",attrs:{\"icon\":\"level-down-alt\",\"title\":\"dynamic\",\"fixed-width\":\"\"}}):_c('font-awesome-icon',{staticClass:\"ml-1 text-secondary\",attrs:{\"icon\":\"check-circle\",\"title\":\"standard\",\"fixed-width\":\"\"}})],1):_vm._e()],1),_c('span',{staticClass:\"d-block small\",attrs:{\"title\":\"CSV column\"}},[_vm._v(_vm._s(data.column))])])]}}],null,false,95129129)})],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n     <b-card id=\"table-container\"\n     v-if=\"items_proxy && items_proxy.length>0\" class=\"mt-2\" \n        :title=\"title\">\n\n        <b-table\n            id=\"my-table\"\n            :items=\"items_proxy\"\n            small\n            bordered\n            striped\n            hover\n            thClass=\"th-head\"\n            >\n                <template #head()=\"data\">\n                    <section>\n                        <span class=\"d-block small\" title=\"REDCap field\">\n                            <non-blank-space />\n                            <b-badge variant=\"info\" v-if=\"Boolean(getRedcapField(data.column))\" >\n                                <span>{{getRedcapField(data.column)}}</span>\n                                <font-awesome-icon icon=\"star\" v-if=\"isPrimaryKey(data.column)\" class=\"ml-1 text-warning\" title=\"primary key\" fixed-width/>\n                                <font-awesome-icon icon=\"level-down-alt\" v-else-if=\"isDynamic(data.column)\" class=\"ml-1 text-danger\" title=\"dynamic\" fixed-width/>\n                                <font-awesome-icon icon=\"check-circle\" v-else class=\"ml-1 text-secondary\" title=\"standard\" fixed-width/>\n                            </b-badge>\n                            <!-- <b-badge variant=\"success\" class=\"ml-1\" v-if=\"isDynamic(data.column)\">D</b-badge> -->\n                        </span>\n                        <!-- <span class=\"\">{{ data.label }}</span> -->\n                        <span class=\"d-block small\" title=\"CSV column\">{{ data.column }}</span>\n                    </section>\n                </template>\n                <!-- <template #foot()=\"data\">\n                </template> -->\n            </b-table>\n            <!-- <section>\n                <span v-if=\"counting\">Counting lines:</span>\n                <span v-else>Total lines:</span>\n                <span> {{formatNumber(total_lines)}}</span>\n            </section> -->\n        </b-card>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\n\nexport default {\n    data() {\n        return {\n\n        }\n    },\n    computed: {\n        ...mapState({\n            items: state => state.csv_data.data,\n            csvFields: state => state.csv_data.fields,\n            total_lines: state => state.csv_data.total_lines,\n            counting: state => state.csv_data.counting,\n            files: state => state.import_settings.files,\n            mapping: state => state.import_settings.mapping,\n            dynamic_fields: state => state.import_settings.dynamic_fields,\n        }),\n        title() {\n            let title = 'Preview'\n            if(this.files && this.files.name) {\n                let {name=false} = this.files\n                if(name) title = `${name} (preview)`\n            }\n            return title\n        },\n        /**\n         * proxy for items.\n         * return dummy data if no file is selected\n         */\n        items_proxy() {\n            let files = this.files\n            if(!files) {\n                const dummy_items = [...Array(5).keys()].map(() => ({'no data':\"\"}))\n                return dummy_items\n            }\n            return this.items\n        },\n    },\n    destroyed() {\n        this.$store.dispatch('csv_data/stopCounting')\n    },\n    methods: {\n        formatNumber(number) {\n            return new Intl.NumberFormat('en-US', {}).format(number)\n        },\n        getRedcapField(column_name) {\n            const mapping = {...this.mapping}\n            const index = this.csvFields.indexOf(column_name)\n            for(let[fieldName, csvIndexes] of Object.entries(mapping)) {\n                if(Object.values(csvIndexes).indexOf(index)>=0) return fieldName\n            }\n            return\n        },\n        isDynamic(column_name) {\n            const redcapField = this.getRedcapField(column_name)\n            if(!redcapField) return false\n            return this.dynamic_fields.indexOf(redcapField)>=0\n        },\n        isPrimaryKey(column_name) {\n            const redcapField = this.getRedcapField(column_name)\n            if(!redcapField) return false\n            const {primary_key} = {...this.$store.state.import_settings}\n            return redcapField==primary_key\n        },\n        \n    },\n    watch: {\n        /* files: {\n            immediate: true,\n            handler(file) {\n                this.$store.dispatch('csv_data/countFileLinesFast', file)\n            }\n        }, */\n  },\n}\n</script>\n\n<style scoped>\n#table-container {\n    overflow-x: scroll;\n}\n\n#my-table >>> tbody td::before {\n    content: '';\n    display: block;\n    min-height: 10px;\n    float: left;\n}\n#my-table >>> tbody td {\n    vertical-align: middle;;\n}\n\n</style>","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FilePreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FilePreview.vue?vue&type=script&lang=js&\"","// extracted by mini-css-extract-plugin\nexport {};","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-54.use[0]!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??clonedRuleSet-54.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-54.use[2]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FilePreview.vue?vue&type=style&index=0&id=00265252&prod&scoped=true&lang=css&\"","import { render, staticRenderFns } from \"./FilePreview.vue?vue&type=template&id=00265252&scoped=true&\"\nimport script from \"./FilePreview.vue?vue&type=script&lang=js&\"\nexport * from \"./FilePreview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilePreview.vue?vue&type=style&index=0&id=00265252&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00265252\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"wizard\">\n    <FilePreview />\n    <b-card class=\"mt-2\">\n\n    <b-tabs class=\"wizard-tabs\" no-nav-style content-class=\"mt-0\" v-model=\"step_index\" >        \n        <b-tab v-for=\"(item, index) in steps\" :key=\"index\" :title=\"``\" title-link-class=\"d-none\">\n\n          <div class=\"steps text-center mb-2\">\n            <b-badge variant=\"light\">Step {{step_index+1}} of {{steps.length}}</b-badge>\n          </div>\n          \n          <component :is=\"item.element\">\n            <template v-slot:left>\n              <button class=\"btn btn-outline-primary\" @click=\"goToPrevStep\" :disabled=\"step_index==0\" v-if=\"step_index>0\">go back</button>\n              <span v-else></span>\n            </template>\n            <template v-slot:default ></template>\n            <template v-slot:right=\"{validation, processFunction}\">\n              <button class=\"btn btn-outline-primary\" @click=\"goToNextStep(processFunction)\" :disabled=\"validation.$invalid\" v-show=\"step_index<(steps.length-1)\">next</button>\n            </template>\n\n          </component>\n\n        </b-tab>\n    </b-tabs>\n        </b-card>\n\n\n    \n  </div>\n</template>\n\n<script>\nimport FilePreview from '@/components/import/FilePreview'\n\nconst steps = [\n  { element: () => import('@/components/import/SelectFile'), },\n  { element: () => import('@/components/import/RecordFormat'), },\n  { element: () => import('@/components/import/FormatOptions'), },\n  { element: () => import('@/components/import/TargetForm'), },\n  { element: () => import('@/components/import/SetPrimaryKey'), },\n  { element: () => import('@/components/import/MapFields'), },\n  { element: () => import('@/components/import/ImportMode'), },\n  { element: () => import('@/components/import/Review'), },\n]\n\nexport default {\n  components: { FilePreview },\n  data() {\n    return {\n      step_index: 0,\n      steps: steps,\n      processing: false,\n    }\n  },\n  created() {\n    this.step = this.steps[0]\n  },\n  destroyed() {\n    this.$store.dispatch('import_settings/reset')\n    this.$store.dispatch('csv_data/reset')\n  },\n  methods: {\n    goToPrevStep() {\n      let index = this.step_index\n      if(--index<=0) index = 0\n      this.step_index = index\n    },\n    async goToNextStep(processFunction) {\n      \n        if(processFunction && typeof processFunction == 'function') {\n            const result = await processFunction()\n          if(!result) throw new Error('error going to next step')\n        }\n        let index = this.step_index\n        if(++index>=this.steps.length) index = this.steps.length-1\n        this.step_index = index\n    },\n  },\n}\n</script>\n\n<style scoped>\n.wizard {\n  margin: 0 auto;\n}\n.wizard-tabs {\n\n}\n</style>","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-82.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","// extracted by mini-css-extract-plugin\nexport {};","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-54.use[0]!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??clonedRuleSet-54.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-54.use[2]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=24c7e0bd&prod&scoped=true&lang=css&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=24c7e0bd&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=24c7e0bd&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24c7e0bd\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","_c","_self","staticClass","attrs","model","value","step_index","callback","$$v","expression","_l","steps","item","index","key","_v","_s","length","element","tag","scopedSlots","_u","fn","on","goToPrevStep","proxy","undefined","validation","processFunction","directives","name","rawName","$invalid","$event","goToNextStep","staticRenderFns","items_proxy","title","data","Boolean","getRedcapField","column","isPrimaryKey","isDynamic","_e","computed","items","csvFields","total_lines","counting","files","mapping","dynamic_fields","destroyed","methods","formatNumber","primary_key","watch","components","FilePreview","processing","created"],"sourceRoot":""}